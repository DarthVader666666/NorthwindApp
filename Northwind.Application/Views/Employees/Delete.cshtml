@model IEnumerable<Northwind.Application.Models.Employee.EmployeeIndexModel>

@{
    var count = Model.Count();
    ViewData["Title"] = "Delete";
}

<h1>Delete</h1>

<h3>Are you sure you want to delete @(count > 1 ? "these" : "this")</h3>
<div>
    <h4>@(count > 1 ? "Employees" : "Employee")?</h4>
    <hr />
    <table class="table">
        <thead>
            <tr>
                <th>
                    Full Name
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Title)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.HireDate)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Photo)
                </th>
            </tr>
        </thead>
        <tbody>
            <form id="form" asp-action="DeleteConfirmed" method="post">
                @foreach (var item in Model)
                {
                    <input asp-for="@item.EmployeeId" name="ids" type="hidden" />
                    <tr>
                        <td class="align-middle">
                            @Html.DisplayFor(modelItem => item.FirstName) @Html.DisplayFor(modelItem => item.LastName)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Title)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.HireDate)
                        </td>
                        <td>
                            <img src="data:image/bmp;base64,@Convert.ToBase64String(item.Photo!)" style="height:60px;width:60px;" />
                        </td>
                    </tr>
                }
            </form>
        </tbody>
    </table>
    <button form="form" class="btn btn-danger" type="submit">Delete</button>
    <button class="btn btn-primary float-end" onclick="location.href = '@Url.ActionLink("Index", "Employees")'">Back to List</button>
</div>
